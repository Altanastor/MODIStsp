<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Running the tool in Interactive Mode: the MODIStsp GUI • MODIStsp</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84499524-2', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">MODIStsp</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How To
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/interactive_execution.html">Interactive Execution - the MODIStsp GUI</a>
    </li>
    <li>
      <a href="../articles/noninteractive_execution.html">Non-Interactive Execution from within R</a>
    </li>
    <li>
      <a href="../articles/standalone_execution.html">Standalone Execution and Scheduled Processing</a>
    </li>
    <li>
      <a href="../articles/output.html">Outputs Format and Naming Conventions</a>
    </li>
    <li>
      <a href="../articles/analyze.html">Accessing and Analyzing Processed Data from R</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/lbusett/MODIStsp/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Running the tool in Interactive Mode: the MODIStsp GUI</h1>
            
          </div>

    
    
<div class="contents">
<p>The easiest way to use <code>MODIStsp</code> is to use its powerful GUI (Graphical User Interface) for selection of processing options, and then run the processing.</p>
<p>To open the GUI, load the package and launch the MODIStsp function, with no parameters:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(MODIStsp)
<span class="kw"><a href="../reference/MODIStsp.html">MODIStsp</a></span>()</code></pre></div>
<p>This <strong>opens a GUI</strong> from which processing options can be specified and eventually saved (or loaded) (Notes: <a href="#note-1">1</a>, <a href="#note-2">2</a>).</p>
<p>The GUI allows selecting all processing options required for the creation of the desired MODIS time series. The main available processing options are described in detail in the following.</p>
<p><img src="interactive_execution_files/figure-html/GUIfig-1.png" width="672" style="display: block; margin: auto;"></p>
<hr>
<div id="selecting-processing-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#selecting-processing-parameters" class="anchor"></a><strong>Selecting Processing Parameters</strong>
</h2>
<div id="modis-product-platform-and-layers" class="section level4">
<h4 class="hasAnchor">
<a href="#modis-product-platform-and-layers" class="anchor"></a><strong><em>MODIS Product, Platform and Layers:</em></strong>
</h4>
<p>The top-most menus allow to specify details of the desired output time series:</p>
<ol style="list-style-type: decimal">
<li>
<strong>“Category”</strong> and <strong>“Product”</strong>: Selects the MODIS product of interest<br>
</li>
<li>
<strong>MODIS platform(s)</strong>: Selects if only TERRA, only AQUA or Both MODIS platforms should be considered for download and creation of the time series</li>
<li>
<strong>version</strong>: Selects whether processing version 5 or 6 (when available) of MODIS products has to be processed</li>
</ol>
<p>After selecting the product and version, clicking the <strong>“Click to Select Desired Layers”</strong> button opens the <em><em>Select Processing Layers</em></em> GUI panel, from which the user <strong>must</strong> select which MODIS original layers and/or derived Quality Indexes (QI) and Spectral Indexes (SI) layers should be processed: <img src="interactive_execution_files/figure-html/proc_layers-1.png" width="672" style="display: block; margin: auto;"></p>
<ul>
<li>The left-hand frame allows to select which <em>original MODIS layers</em> should be processed.</li>
<li>The central frame allows to select which <em>Quality Indicators should be extracted</em> from the original MODIS Quality Assurance layers.</li>
<li>For MODIS products containing surface reflectance data, the right-hand frame allows to select which additional <em>Spectral Indexes should be computed</em>. The following commonly used Spectral Indexes are available for computation by default:</li>
</ul>
<p><br></p>
<!-- html table generated in R 3.4.1 by xtable 1.8-2 package -->
<!-- Fri Aug 18 13:09:12 2017 -->
<table border="1" class="table">
<tr>
<th>
</th>
<th>
Acronym
</th>
<th>
Index Name and reference
</th>
<th>
Index Formula
</th>
</tr>
<tr>
<td align="right">
1
</td>
<td>
NDVI
</td>
<td>
Normalized Difference Vegetation Index <span class="citation">[@Rouse1973]</span>
</td>
<td>
(NIR - RED)/(NIR + RED)
</td>
</tr>
<tr>
<td align="right">
2
</td>
<td>
EVI
</td>
<td>
Enhanced Vegetation Index <span class="citation">[@Huete2002]</span>
</td>
<td>
2.5 * (NIR - RED)/(NIR + 6 * RED - 7.5 * BLUE + 1
</td>
</tr>
<tr>
<td align="right">
3
</td>
<td>
SR
</td>
<td>
Simple Ratio<span class="citation">[@Tucker1979]</span>
</td>
<td>
NIR / RED
</td>
</tr>
<tr>
<td align="right">
4
</td>
<td>
NDFI
</td>
<td>
Normalized Difference Flood Index <span class="citation">[@Boschetti2014]</span>
</td>
<td>
(NIR - SWIR1) / (NIR + SWIR1)
</td>
</tr>
<tr>
<td align="right">
5
</td>
<td>
NDII6 (NDWI6)
</td>
<td>
Normalized Difference Infrared Index - Band 6 <span class="citation">[@HUNTJR1989]</span>
</td>
<td>
(NIR - SWIR1) / (NIR + SWIR1)
</td>
</tr>
<tr>
<td align="right">
6
</td>
<td>
NDII7 (NDWI7)
</td>
<td>
Normalized Difference Infrared Index - Band 7 <span class="citation">[@HUNTJR1989]</span>
</td>
<td>
(NIR - SWIR2) / (NIR + SWIR2)
</td>
</tr>
<tr>
<td align="right">
7
</td>
<td>
SAVI
</td>
<td>
Soil Adjusted Vegetation Index <span class="citation">[@Huete1988]</span>
</td>
<td>
((NIR - RED) / (NIR + RED + 0.5)) * (1 + 0.5)
</td>
</tr>
<tr>
<td align="right">
8
</td>
<td>
NDSI
</td>
<td>
Normalized Difference Snow Index <span class="citation">[@Hall2002]</span>
</td>
<td>
(GREEN - SWIR1) / GREEN + SWIR1)
</td>
</tr>
<tr>
<td align="right">
9
</td>
<td>
GNDVI
</td>
<td>
Green Normalized Difference Vegetation Index <span class="citation">[@Gitelson1998]</span>
</td>
<td>
(NIR - GREEN)/(NIR + GREEN)
</td>
</tr>
<tr>
<td align="right">
10
</td>
<td>
RGRI
</td>
<td>
Red Green Ratio Index <span class="citation">[@Gamon1999]</span>
</td>
<td>
RED / GREEN
</td>
</tr>
<tr>
<td align="right">
11
</td>
<td>
GRVI
</td>
<td>
Green-Red ratio Vegetation Index <span class="citation">[@Tucker1979]</span>
</td>
<td>
(RED - GREEN) / (RED + GREEN)
</td>
</tr>
</table>
<p>You can however <strong>specify other SIs to be computed without modifying MODIStsp source code</strong> by clicking on the <em><strong>“Add Custom Index”</strong></em> button, which allow to provide info related to the new desired SI using a simple GUI interface.</p>
<p><img src="interactive_execution_files/figure-html/indexfig-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Provided information (e.g., correct band-names, computable formula, etc…) is automatically checked upon clicking “Set New Index”. On success, the new index is added in the list of available ones for all products allowing its computation. Clicking “Done !” returns to the main.</p>
</div>
<div id="download-method" class="section level4">
<h4 class="hasAnchor">
<a href="#download-method" class="anchor"></a><strong><em>Download Method:</em></strong>
</h4>
<p>Select the method to be used for download. Available choices are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>http</strong>: download through ftp from NASA lpdaac http archive (<a href="http://e4ftl01.cr.usgs.gov" class="uri">http://e4ftl01.cr.usgs.gov</a>). This requires providing a user name and password, which can be obtained by registering an account at the address <a href="https://urs.earthdata.nasa.gov/profile" class="uri">https://urs.earthdata.nasa.gov/profile</a>;</p></li>
<li><p><strong>ftp</strong>: download from NASA ftp archive (<a href="ftp://ladsweb.nascom.nasa.gov/" class="uri">ftp://ladsweb.nascom.nasa.gov/</a>);</p></li>
<li><p><strong>offline</strong>: this option allows to process/reprocess HDF files already available on the user’s PC without downloading from NASA – useful if the user already has an archive of HDF images, or to reprocess data already downloaded via MODIStsp to create time series for an additional layer (<em>It is fundamental that the HDFs are those directly downloaded from NASA servers</em> ! (See <a href="faq.html#working-with-already-downloaded-hdf-files">here</a> for additional details).</p></li>
</ol>
<p>Checking the <strong>use_aria2c</strong> option allows to accelerate the download from NASA archives. This requires however that that the “aria2c” software is installed in your system. To download and install it, see: <a href="aria2.github.io/">https://aria2.github.io/</a></p>
<p><font size="2"> <em>NOTE: The best performances are usually achieved using <em>http</em>, though that may vary depending on network infrastructure.</em> </font></p>
</div>
<div id="processing-period" class="section level4">
<h4 class="hasAnchor">
<a href="#processing-period" class="anchor"></a><strong><em>Processing Period:</em></strong>
</h4>
<p>Specify the starting and ending dates to be considered for the creation of the time in the series corresponding fields. Dates <strong>must</strong> be provided in the <em>yyyy–mm–dd</em> format (e.g., 2015-01-31)</p>
<p>The <strong>Period</strong> drop-down menu allows to choose between two options:</p>
<ol style="list-style-type: decimal">
<li><p><strong>full</strong>: all available images between the starting and ending dates are downloaded and processed;</p></li>
<li><p><strong>seasonal</strong>: data is downloaded only for one part of the year, but for multiple years. For example, if the starting date is 2005-03-01 and the ending is 2010-06-01, only the images of March, April and May for the years between 2005 and 2010 will be downloaded. This allows to easily process data concerning a particular season of interest.</p></li>
</ol>
</div>
<div id="spatial-extent" class="section level4">
<h4 class="hasAnchor">
<a href="#spatial-extent" class="anchor"></a><strong><em>Spatial Extent:</em></strong>
</h4>
<p>Allows to define the area of interest for the processing. Two main options are possible:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Full Tiles Extent</strong>: specify which MODIS tiles need to be processed using the “Start” and “End” horizontal and vertical sliders in the <em>Required MODIS Tiles</em> frame. During processing, data from the different tiles is mosaiced, and a single file covering the total area is produced for each acquisition date (Note: pressing the “show map” button, a representation of the MODIS tiles grid is shown to facilitate the selection).</p></li>
<li>
<p><strong>Resized</strong>: specify a custom spatial extent for the desired outputs either by:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Manually inserting the coordinates of the Upper Left and Lower Right corners of the area of interest in the <strong>Bounding Box</strong> frame. <em>Coordinates of the corners must be provided in the coordinate system of the selected output projection</em>;</p></li>
<li><p>pressing the <strong>“Load Extent from a Spatial File” and selecting a raster or vector spatial file</strong>. In this case, the bounding box of the selected file is retrieved, converted in the selected output projection, and shown in the “Bounding Box” frame. Required input MODIS tiles are also automatically retrieved from the output extent, and the tiles selection sliders modified accordingly.</p></li>
</ol>
</li>
</ol>
</div>
<div id="reprojection-and-resize" class="section level4">
<h4 class="hasAnchor">
<a href="#reprojection-and-resize" class="anchor"></a><strong><em>Reprojection and Resize:</em></strong>
</h4>
<p>Specify the options to be used for reprojecting and resizing the MODIS images.</p>
<ul>
<li><p><strong>“Output Projection”</strong>: select one of the predefined output projections or specify a user-defined one. To specify a user selected projection, select “User Defined” and then insert a valid “Proj4” string in the pop-up window. Validity of the Proj4 string is automatically checked, and error messages issued if the check fails;</p></li>
<li><p><strong>“Output Resolution”</strong>, <strong>“Pixel Size”</strong> and <strong>“Reprojection Method”</strong>: specify whether output images should inherit their spatial resolution from the original MODIS files, or be resampled to a user-defined resolution. In the latter case, output spatial resolution must be specified in the measure units of the selected output projection. Resampling method can be chosen among “Nearest Neighbour” and “Mode” (Useful for down-sampling purposes). Other resampling methods (e.g., bilinear, cubic) are not currently supported since i) they cannot be used for resampling of categorical variables such as the QA and QI layers, and ii) using them on continuous variable (e.g., reflectance, VI values) without performing an a-priori data cleaning would risk to contaminate the values of high-quality observations with those of low-quality ones.</p></li>
</ul>
</div>
<div id="processing-options" class="section level4">
<h4 class="hasAnchor">
<a href="#processing-options" class="anchor"></a><strong><em>Processing Options:</em></strong>
</h4>
<p>Several processing options can be set using check-boxes:</p>
<ul>
<li><p><strong>Output Files Format</strong>: Two of the most commonly formats used in remote sensing applications are available at the moment: ENVI binary and GeoTiff. If GeoTiff is selected, the type of file compression can be also specified among “None”, “PACKBITS”, “LZW” and “DEFLATE”.</p></li>
<li><p><strong>Create Virtual Rasters</strong>: Specify if virtual multitemporal files should be created. These virtual files allow access to the entire time series of images as a single file without the need of creating large multitemporal raster images. Available virtual files formats are ENVI meta-files and GDAL “vrt” files.</p></li>
<li><p><strong>Create RasterStack</strong>: Specify if the output time series should be also saved as as “R” <em>rasterStack</em> objects (with temporal information added through the “setZ” method of the <em>raster</em> package). This may be useful in order to easily access the preprocessed MODIS data within “R” scripts.</p></li>
<li><p><strong>Change NoData values</strong>: Specify if NoData values of MODIS layers should be kept at their original values, or changed to those specified within the “MODIStsp_Products_Opts” XML file. By selecting “Yes” in the “Change Original NODATA values” check-box, NoData of outputs are set to the largest integer value possible for the data type of the processed layer (e.g., for 8-bit unsigned integer layers, NoData is set always to 255, for 16-bit signed integer layers to 32767, and for 16-bit unsigned integer layers to 65535). Information about the new NoData values is stored both in the output rasters, and in the XML files associated with them.</p></li>
<li><p><strong>Scale output values</strong>: Specify if scale and offset values of the different MODIS layers should be applied. If selected, outputs are appropriately rescaled on the fly, and saved in the true “measure units” of the selected parameter (e.g., spectral indexes are saved as floating point values; Land Surface Temperature is saved in °K, etc.).</p></li>
</ul>
</div>
<div id="main-output-folder-for-time-series-storage" class="section level4">
<h4 class="hasAnchor">
<a href="#main-output-folder-for-time-series-storage" class="anchor"></a><strong><em>Main Output Folder for Time Series Storage:</em></strong>
</h4>
<p>Select the main folder where the pre-processed time series data will be stored. All <code>MODIStsp</code> outputs <strong>will be placed in specific sub-folders of this main folder</strong> (see XXX for details on <code>MODIStsp</code> naming conventions)-.</p>
<p>The <strong>“Reprocess Existing Data”</strong> check-box allows to decide if images already available should be reprocessed if a new run of MODIStsp is launched with the same output folder. If set to “No”, MODIStsp skips dates for which output files following the MODIStsp naming conventions are already present in the output folder. This allows to incrementally extend MODIS time series without reprocessing already available dates.</p>
</div>
<div id="output-folder-for-original-hdf-storage" class="section level4">
<h4 class="hasAnchor">
<a href="#output-folder-for-original-hdf-storage" class="anchor"></a><strong><em>Output Folder for Original HDF Storage:</em></strong>
</h4>
<p>Select the folder where downloaded <strong>original MODIS HDF files</strong> downloaded from NASA servers will be stored.</p>
<p>The <strong>“delete original HDF files”</strong> check-box allows also to decide if the downloaded images should be deleted from the file system at the end of the processing. To avoid accidental file deletion, this is always set to “No” by default, and a warning is issued before execution whenever the selection is changed to “Yes”.</p>
<hr>
</div>
</div>
<div id="saving-and-loading-processing-options" class="section level2">
<h2 class="hasAnchor">
<a href="#saving-and-loading-processing-options" class="anchor"></a><strong>Saving and Loading Processing Options</strong>
</h2>
<p>Specified processing parameters can be saved to a JSON file for later use by clicking on the <em><strong>Save Options</strong></em> button.</p>
<p>Previously saved options can be restored clicking on the <em><strong>Load Options</strong></em> button and navigating to the previously saved JSON file.</p>
<p><font size="2"> (Note that at launch, <strong><code>MODIStsp</code> <em>always reloads automatically the processing options used for its last succesfull run</em></strong> </font>.</p>
<hr>
</div>
<div id="starting-the-processing" class="section level2">
<h2 class="hasAnchor">
<a href="#starting-the-processing" class="anchor"></a><strong>Starting the processing</strong>
</h2>
<p>Once you are happy with your choices, click on <strong>Start Processing</strong>. <code>MODIStsp</code> will start accessing NASA servers to download and process the MODIS data corresponding to your choices.</p>
<p>For each date of the specified time period, <code>MODIStp</code> downloads and preprocesses all hdf images required to cover the desired spatial extent. Informative messages concerning the status of the processing are provided on the console, as well as on a self-updating progress window.</p>
<div id="section" class="section level4">
<h4 class="hasAnchor">
<a href="#section" class="anchor"></a>_____________________</h4>
</div>
<div id="note-1" class="section level4">
<h4 class="hasAnchor">
<a href="#note-1" class="anchor"></a>Note 1</h4>
<p><font size="2"> PCs with a small screen can fail to visualize the whole GUI; in this case, the user can add scroll bars with <code><a href="../reference/MODIStsp.html">MODIStsp(scrollWindow=TRUE)</a></code>) </font></p>
</div>
<div id="note-2" class="section level4">
<h4 class="hasAnchor">
<a href="#note-2" class="anchor"></a>Note 2</h4>
<p><font size="2"> At the first execution of <code>MODIStsp</code>, a Welcome screen will appear, signaling that <code>MODIStsp</code> is searching for a valid GDAL installation. Press “OK” and wait for GDAL to be found. If nothing happens for a long time (e.g., several minutes), <code>MODIStsp</code> (and in particular the gdalUtils package on which it relies) is not finding a valid GDAL installation in the more common locations. To solve the problem: 1. Ensure that GDAL is properly installed in your system 2. (On Windows) If it is installed, verify that GDAL is in your system PATH. and that the <em>GDAL_DATA</em> environment variable is correctly set (You can find simple instructions <a href="http://gisforthought.com/setting-up-your-gdal-and-ogr-environmental-variables/">HERE</a>) 3. If nothing works, signal it in the <a href="https://github.com/lbusett/MODIStsp/issues">issues</a> GitHub page of <code>MODIStsp</code> and we’ll try to help!</font></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#selecting-processing-parameters"><strong>Selecting Processing Parameters</strong></a></li>
      <li><a href="#saving-and-loading-processing-options"><strong>Saving and Loading Processing Options</strong></a></li>
      <li><a href="#starting-the-processing"><strong>Starting the processing</strong></a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Lorenzo Busetto, Luigi Ranghetti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
